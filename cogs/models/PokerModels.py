# PokerModels.py

from ..DB import Data
from ..configs import MainConfig as MC
from discord.ext import commands
# from discord import Interaction

class Room(Data):
    def __init__(self, ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ):
        self.row = Data.Room.find_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ})
        if not self.row:
            raise ValueError(f"ÐšÐ¾Ð¼Ð½Ð°Ñ‚Ð° '{ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}' Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½Ð°!")
        self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ = self.row["ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ"]
        self.Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸ = self.row["Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸"]
        self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð² = self.row["ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²"]
        self.ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼_ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² = self.row["ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼_ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²"]
        self.ÐŸÐ°Ñ€Ð¾Ð»ÑŒ = self.row["ÐŸÐ°Ñ€Ð¾Ð»ÑŒ"]
        self.ÐŸÑ€Ð°Ð²Ð¸Ð»Ð° = self.row["ÐŸÑ€Ð°Ð²Ð¸Ð»Ð°"]
        self.Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÐµÐ»ÑŒ = self.row["Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÐµÐ»ÑŒ"]
        self.ÐšÐ°Ð½Ð°Ð» = self.row["ÐšÐ°Ð½Ð°Ð»"]
        self.Ð Ð¾Ð»ÑŒ = self.row["Ð Ð¾Ð»ÑŒ"]
        self.Ð§Ð¡ = self.row["Ð§Ð¡"]
        self.ID_Ð¡ÐµÑ€Ð²ÐµÑ€Ð° = self.row["ID_Ð¡ÐµÑ€Ð²ÐµÑ€Ð°"]
        self.ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð° = self.row["ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°"]
        self.ÐœÐ¸Ð½_ÑÑ‚Ð°Ð²ÐºÐ° = self.row["ÐœÐ¸Ð½_ÑÑ‚Ð°Ð²ÐºÐ°"]
        self.ÐœÐ°ÐºÑ_ÑÑ‚Ð°Ð²ÐºÐ° = self.row["ÐœÐ°ÐºÑ_ÑÑ‚Ð°Ð²ÐºÐ°"]
        self.Ð¢ÐµÐºÑƒÑ‰Ð°Ñ_ÑÑ‚Ð°Ð²ÐºÐ° = self.row["Ð¢ÐµÐºÑƒÑ‰Ð°Ñ_ÑÑ‚Ð°Ð²ÐºÐ°"]
        self.Ð¢Ð¸Ð¿_ÑÑ‚Ð°Ð²Ð¾Ðº = self.row["Ð¢Ð¸Ð¿_ÑÑ‚Ð°Ð²Ð¾Ðº"]
        self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ€Ð°ÑƒÐ½Ð´ = self.row["Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ€Ð°ÑƒÐ½Ð´"]
        self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´ = self.row["Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´"]
        self.ÐšÑ€ÑƒÐ³ = self.row["ÐšÑ€ÑƒÐ³"]
        self.Ð‘Ð°Ð½Ðº_Ð¾Ð±Ñ‰Ð¸Ð¹ = self.row["Ð‘Ð°Ð½Ðº_Ð¾Ð±Ñ‰Ð¸Ð¹"]
        self.Ð‘Ð°Ð½Ðº_Ñ€Ð°ÑƒÐ½Ð´Ð° = self.row["Ð‘Ð°Ð½Ðº_Ñ€Ð°ÑƒÐ½Ð´Ð°"]
        self.ÐšÐ¾Ð»Ð¾Ð´Ð° = self.row["ÐšÐ¾Ð»Ð¾Ð´Ð°"]
        self.Ð’Ñ€ÐµÐ¼Ñ = self.row["Ð’Ñ€ÐµÐ¼Ñ"]


#                      ------  ÐœÐžÐ”Ð•Ð ÐÐ¦Ð˜Ð¯ ÐšÐžÐœÐÐÐ¢Ð«   ------

    # Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°
    def add_member(self, member_id):
        if member_id in self.Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸:
            raise ValueError("Ð­Ñ‚Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÑƒÐ¶Ðµ Ð² ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ.")
        if len(self.Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸) >= self.ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼_ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²:
            raise ValueError("ÐšÐ¾Ð¼Ð½Ð°Ñ‚Ð° Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½Ð°.")
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$push": {"Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸": member_id}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ) # Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹

    # Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ°
    def remove_member(self, member_id):
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$pull": {"Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸": member_id}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

    # ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð»ÑŽÐ±Ð¾Ð³Ð¾ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ð° ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹
    def update_field(self, field: str, value):
        """
        print(f"ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ: {field}, Ð½Ð¾Ð²Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ: {value}")  # ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¹ +
        if isinstance(value, list):
            print("ÐŸÐµÑ€ÐµÐ´Ð°Ð½Ð½Ð¾Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ â€” ÑÑ‚Ð¾ ÑÐ¿Ð¸ÑÐ¾Ðº")  # ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ, Ñ‡Ñ‚Ð¾ ÑÑ‚Ð¾ ÑÐ¿Ð¸ÑÐ¾Ðº (ÐµÑÐ»Ð¸ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº, ÐºÐ¾Ð½ÐµÑ‡Ð½Ð¾) +
        """
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {field: value}})
        # ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð¾Ð±ÑŠÐµÐºÑ‚ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ Ð´Ð»Ñ Ð°ÐºÑ‚ÑƒÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…:
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

    # Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹
    def delete_room(self):
        Data.Room.delete_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ})
        #return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

    # Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ° Ð² Ð§Ð¡
    def add_member_BL(self, member_id):
        if member_id in self.Ð§Ð¡:
            raise ValueError("Ð­Ñ‚Ð¾Ñ‚ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÑƒÐ¶Ðµ Ð² Ð§Ð¡.")
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$push": {"Ð§Ð¡": member_id}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ) # Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹
    
    # Ð£Ð´Ð°Ð»ÐµÐ½Ð¸Ðµ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ° Ð² Ð§Ð¡
    def remove_member_BL(self, member_id):
        if not (member_id in self.Ð§Ð¡):
            raise ValueError("Ð­Ñ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ ÑƒÐ¶Ðµ Ð½ÐµÑ‚ Ð² Ð§Ð¡.")
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$pull": {"Ð§Ð¡": member_id}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ) # Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¾Ð±Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð°Ñ‚Ñ€Ð¸Ð±ÑƒÑ‚Ñ‹
    
    # Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÑÐ¿Ð¸ÑÐºÐ° ÐºÐ¾Ð¼Ð½Ð°Ñ‚
    @staticmethod
    def format_room_list(rooms): # , interaction: Interaction
        formatted_rooms = []
        n: int = 0 # ÑÑ‡Ð¸Ñ‚Ð°ÐµÐ¼ ÐºÐ¾Ð»-Ð²Ð¾ ÐºÐ¾Ð¼Ð½Ð°Ñ‚ Ð´Ð»Ñ Ñ„Ð¾Ñ€Ð¼Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹ (Ð´Ð¾ 10 ÑˆÑ‚. Ð½Ð° ÑÑ‚Ñ€.)
        room_info: str = '' # ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð¼Ð½Ð°Ñ‚ Ð½Ð° ÐºÐ°Ð¶Ð´ÑƒÑŽ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñƒ
        for room in rooms:
            n += 1
            # print('room\n', room, n) # +
            password_icon = "ðŸ”" if room["ÐŸÐ°Ñ€Ð¾Ð»ÑŒ"] else "" # ðŸ” ðŸ”’
            Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ = room['ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ']
            room_info +=    f"> {n}. {Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ} {password_icon}\n" \
                            f"> ```{Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ}```" \
                            f"ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ñ‡ÐµÐ»Ð¾Ð²ÐµÐº: {len(room['Ð£Ñ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¸'])}/{room['ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼_ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²']}\n" \
                            f"> Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÐµÐ»ÑŒ: <@{room['Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÐµÐ»ÑŒ']}>\n" \
                            f"> ÐœÐ¸Ð½. ÑÑ‚Ð°Ð²ÐºÐ°: {room['ÐœÐ¸Ð½_ÑÑ‚Ð°Ð²ÐºÐ°']}\n" \
                            f"> ÐœÐ°ÐºÑ. ÑÑ‚Ð°Ð²ÐºÐ°: {room['ÐœÐ°ÐºÑ_ÑÑ‚Ð°Ð²ÐºÐ°']}"
            room_info += "\n\n"
            if n % 10 == 0: # ÐºÐ°Ð¶Ð´Ñ‹Ðµ Ð´ÐµÑÑÑ‚ÑŒ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ† Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð½Ð° Ð¾Ð´Ð½Ñƒ ÑÑ‚Ñ€: (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ ÐºÐ°Ð¶Ð´Ñ‹Ðµ 15, Ñ‚Ð¾ if n % 15 == 0 Ð¸ Ñ‚.Ð´.)
                formatted_rooms.append(room_info)
                room_info = '' # Ð¾Ð±Ð½ÑƒÐ»ÑÐµÐ¼ ÑÐ¿Ð¸ÑÐ¾Ðº Ð´Ð»Ñ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ†Ñ‹
            else: pass
        formatted_rooms.append(room_info) # Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð²Ñ‹ÑˆÐ»Ð¸ Ð·Ð° Ð¿Ñ€ÐµÐ´ÐµÐ»Ñ‹ Ð´ÐµÑÑÑ‚Ð¾Ðº
        # print('formatted_rooms\n', formatted_rooms) # +
        return formatted_rooms # Ð•ÑÐ»Ð¸ Ð·Ð°Ñ…Ð¾Ñ‚Ð¸Ð¼ Ð²ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð½Ðµ ÑÐ¿Ð¸ÑÐ¾Ðº, Ð° Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼ Ð²ÑÐµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹ ÑÑ€Ð°Ð·Ñƒ, Ñ‚Ð¾ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ "\n\n".join(formatted_rooms)




#                      ------  Ð Ð•ÐÐ›Ð˜Ð—ÐÐ¦Ð˜Ð¯ Ð˜Ð“Ð Ð«   ------

    # ------    Ð¥ÐžÐ”Ð«    ------

# Ð¼ÐµÑ‚Ð¾Ð´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ…Ð¾Ð´Ð¾Ð² (inc) - Ð¿Ñ€Ð¸Ð±Ð°Ð²Ð¸Ñ‚ÑŒ
    def ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´(self):
        print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´')
        print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´ - ÐšÐ¾Ð»-Ð²Ð¾ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²: ', len(self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²), '\nÐ¥Ð¾Ð´Ð¸Ñ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ (1) Ð¸Ð»Ð¸ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ (2): ', self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´+1)
        if len(self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²) == self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´+1: # ÐµÑÐ»Ð¸ Ð½Ð¾Ð¼ÐµÑ€ Ñ…Ð¾Ð´Ð° ÑÑ‚Ð¾Ð³Ð¾ Ð±Ñ‹Ð» Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¼ (Ñ€Ð°Ð²ÐµÐ½ ÐºÐ¾Ð»-Ð²Ñƒ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²), Ñ‚Ð¾ ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÐ¼ Ñ…Ð¾Ð´Ñ‹
            print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´ - ÑÐ¾Ð²Ð¿Ð°Ð»Ð¾, Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹, Ð¼ÐµÐ½ÑÐµÐ¼ ÐºÑ€ÑƒÐ³ Ð¸ ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÐ¼ Ñ…Ð¾Ð´')
            Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {'Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´': 0, 'ÐšÑ€ÑƒÐ³': True}}) # Ð´ÐµÐ»Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¼Ñƒ Ñ…Ð¾Ð´Ñƒ (0), Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑˆÑ‘Ð» 1 ÐºÑ€ÑƒÐ³
        else:
            Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$inc": {'Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´': 1}}) # Ð´ÐµÐ»Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ Ñ…Ð¾Ð´Ñƒ (+1)
            print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´ - Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð»Ð¾, Ñ…Ð¾Ð´Ð¸Ð¼ Ð´Ð°Ð»ÑŒÑˆÐµ')
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

# Ð¼ÐµÑ‚Ð¾Ð´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ…Ð¾Ð´Ð¾Ð² Ð¿Ñ€Ð¸ FOLD (Ð²Ñ‹Ñ…Ð¾Ð´Ðµ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ° Ð¸Ð· Ð¸Ð³Ñ€Ñ‹)
    def ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´_Ñ„Ð¾Ð»Ð´(self):
        print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´')
        print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´ - ÐšÐ¾Ð»-Ð²Ð¾ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²: ', len(self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²), '\nÐ¥Ð¾Ð´Ð¸Ñ‚ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ (1) Ð¸Ð»Ð¸ Ð²Ñ‚Ð¾Ñ€Ð¾Ð¹ (2): ', self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´+1)
        if len(self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²) == self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´+1: # ÐµÑÐ»Ð¸ Ð½Ð¾Ð¼ÐµÑ€ Ñ…Ð¾Ð´Ð° ÑÑ‚Ð¾Ð³Ð¾ Ð±Ñ‹Ð» Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¼ (Ñ€Ð°Ð²ÐµÐ½ ÐºÐ¾Ð»-Ð²Ñƒ ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²), Ñ‚Ð¾ ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÐ¼ Ñ…Ð¾Ð´Ñ‹
            Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {'Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´': 0, 'ÐšÑ€ÑƒÐ³': True}}) # Ð´ÐµÐ»Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ðº Ð¿ÐµÑ€Ð²Ð¾Ð¼Ñƒ Ñ…Ð¾Ð´Ñƒ (0), Ð³Ð¾Ð²Ð¾Ñ€Ð¸Ñ‚, Ñ‡Ñ‚Ð¾ Ð¿Ñ€Ð¾ÑˆÑ‘Ð» 1 ÐºÑ€ÑƒÐ³
            print('ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´ - ÑÐ¾Ð²Ð¿Ð°Ð»Ð¾, Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹, Ð¼ÐµÐ½ÑÐµÐ¼ ÐºÑ€ÑƒÐ³ Ð¸ ÑÐ±Ñ€Ð°ÑÑ‹Ð²Ð°ÐµÐ¼ Ñ…Ð¾Ð´')
        else: pass
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)
    
# Ð£Ð´Ð°Ð»ÑÐµÑ‚ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ ID Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ° 'ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²' (fold)
    def Ð¾Ñ‚ÑÑ‚Ñ€Ð°Ð½Ð¸Ñ‚ÑŒ_Ð¸Ð³Ñ€Ð¾ÐºÐ°(self, user_id: int):
        """
        Ð£Ð´Ð°Ð»ÑÐµÑ‚ ÑƒÐºÐ°Ð·Ð°Ð½Ð½Ñ‹Ð¹ ID Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ° 'ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²' (fold)
        user_id: ID, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¸Ð· ÑÐ¿Ð¸ÑÐºÐ°.
        """
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$pull": {"ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²": user_id}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)  # ÐŸÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÐµÐ¼ Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹


    # ------    Ð ÐÐ£ÐÐ”Ð«    ------

# ÐœÐµÑ‚Ð¾Ð´ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ Ñ€Ð°ÑƒÐ½Ð´Ð¾Ð² (Ð¾Ñ‚Ð¿Ñ€Ð°Ð°Ð²Ð»ÑÐµÐ¼ ÑÑŽÐ´Ð° Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð°ÑƒÐ½Ð´Ð°)
    def ÑÐ»ÐµÐ´_Ñ€Ð°ÑƒÐ½Ð´(self, Ñ€Ð°ÑƒÐ½Ð´: str):
        print('ÑÐ»ÐµÐ´_Ñ€Ð°ÑƒÐ½Ð´')
        print('ÑÐ»ÐµÐ´_Ñ€Ð°ÑƒÐ½Ð´ - ÐÐ°Ñ‡Ð°Ð»ÑÑ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ð¹ ÐºÑ€ÑƒÐ³? ', self.ÐšÑ€ÑƒÐ³)
        if self.ÐšÑ€ÑƒÐ³: # Ð¡ Ð½Ð¾Ð²Ð¾Ð³Ð¾ Ñ€Ð°ÑƒÐ½Ð´Ð° (ÐºÑ€Ð¾Ð¼Ðµ Ð¿Ñ€ÐµÑ„Ð»Ð¾Ð¿Ð°) Ð½Ð°Ñ‡Ð¸Ð½Ð°ÑŽÑ‚ Ñ…Ð¾Ð´Ð¸Ñ‚ÑŒ Ñ Ð¼Ð°Ð»Ð¾Ð³Ð¾ Ð±Ð»Ð°Ð¹Ð½Ð´Ð° (Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ð¸Ð³Ñ€Ð¾ÐºÐ° Ð² ÑÐ¿Ð¸ÑÐºÐµ 'ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²')
            Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {'Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´': 0}})
            print('ÑÐ»ÐµÐ´_Ñ€Ð°ÑƒÐ½Ð´ - ÐºÑ€ÑƒÐ³ Ð½Ð°Ñ‡Ð°Ð»ÑÑ')
            '''
            Ð•ÑÐ»Ð¸ 2 Ð¸Ð³Ñ€Ð¾ÐºÐ°, Ñ‚Ð¾ Ð¿Ð¾ÑÐ»Ðµ /Ð¿Ð¾ÐºÐµÑ€ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹_Ð±Ð»Ð°Ð¹Ð½Ð´ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ 'Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´' Ð¸ Ñ‚Ð°Ðº Ð¸ Ñ‚Ð°Ðº Ð±ÑƒÐ´ÐµÑ‚ = 0
            Ð•ÑÐ»Ð¸ Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð² Ð±Ð¾Ð»ÑŒÑˆÐµ 2, Ñ‚Ð¾ Ð¿Ð¾ÑÐ»Ðµ /Ð¿Ð¾ÐºÐµÑ€ Ð±Ð¾Ð»ÑŒÑˆÐ¾Ð¹_Ð±Ð»Ð°Ð¹Ð½Ð´ 'ÐšÑ€ÑƒÐ³' Ð±ÑƒÐ´ÐµÑ‚ False Ñ‚.Ðº. Ð² def ÑÐ»ÐµÐ´_Ñ…Ð¾Ð´(self) Ð²Ñ‹ÑˆÐµ Ð½Ðµ ÑÑ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑƒÑÐ»Ð¾Ð²Ð¸Ðµ if len(self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²) == self.Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´+1
            '''
        else: pass
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {'Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ€Ð°ÑƒÐ½Ð´': Ñ€Ð°ÑƒÐ½Ð´, 'ÐšÑ€ÑƒÐ³': False}}) # Ð´ÐµÐ»Ð°ÐµÑ‚ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´ Ðº ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¼Ñƒ Ñ€Ð°ÑƒÐ½Ð´Ñƒ, 
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð²ÐµÐ½ÑÑ‚Ð²Ð° ÑÑ‚Ð°Ð²Ð¾Ðº Ñƒ Ð²ÑÐµÑ… ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ Ñ€Ð°ÑƒÐ½Ð´Ðµ (Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð° Ð½Ð° ÑÐ»ÐµÐ´. Ñ€Ð°ÑƒÐ½Ð´)
    def ÑÑ‚Ð°Ð²ÐºÐ¸_Ñ€Ð°Ð²Ð½Ñ‹(self) -> bool:
        """
        ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÑ‚, Ñ€Ð°Ð²Ð½Ñ‹ Ð»Ð¸ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ 'Ð¡ÐµÐ¹Ñ‡Ð°Ñ_Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»' Ñƒ Ð²ÑÐµÑ… ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð².
        :return: True, ÐµÑÐ»Ð¸ Ñ€Ð°Ð²Ð½Ñ‹, Ð¸Ð½Ð°Ñ‡Ðµ False.
        """
        ÑÑ‚Ð°Ð²ÐºÐ¸ = [
            Data.Player.find_one({"id": user_id})["Ð¡ÐµÐ¹Ñ‡Ð°Ñ_Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»"]
            for user_id in self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²   # Ð‘ÐµÑ€Ñ‘Ð¼ ÑÐ¿Ð¸ÑÐ¾Ðº ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð¸Ð· Ð¿Ð¾Ð»Ñ 'ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²'
        ]
        return len(set(ÑÑ‚Ð°Ð²ÐºÐ¸)) == 1
    # set - "ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€", ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ñ‰Ð¸Ð¹ Ð½Ðµ Ð¿Ð¾Ð²Ñ‚Ð¾Ñ€ÑÑŽÑ‰Ð¸ÐµÑÑ ÑÐ»ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ 

    # ------    Ð¡Ð¢ÐÐ’ÐšÐ˜    ------

# ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÐµÐ½Ð¸Ðµ ÑÑ‚Ð°Ð²ÐºÐ¸
    def Ð½Ð¾Ð²Ð°Ñ_ÑÑ‚Ð°Ð²ÐºÐ°(self, ÑÑ‚Ð°Ð²ÐºÐ°: int): # Ð¿Ñ€ÐµÐ´Ð°Ñ‘Ð¼ Ð½Ð¾Ð²ÑƒÑŽ ÑÑ‚Ð°Ð²ÐºÑƒ (ÐºÐ°Ðº Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð¾ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð¿Ñ€ÐµÐ´Ñ‹Ð´ÑƒÑ‰ÐµÐ¹)
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {'Ð¢ÐµÐºÑƒÑ‰Ð°Ñ_ÑÑ‚Ð°Ð²ÐºÐ°': ÑÑ‚Ð°Ð²ÐºÐ°}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)
    
# Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´ÐµÐ½ÐµÐ³ Ð² Ð±Ð°Ð½Ðº
    def Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÐ¼_Ð±Ð°Ð½Ðº(self, ÑÑ‚Ð°Ð²ÐºÐ°: int): # Ð¿Ñ€ÐµÐ´Ð°Ñ‘Ð¼ ÑÑ‚Ð°Ð²ÐºÑƒ
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$inc": {'Ð‘Ð°Ð½Ðº_Ñ€Ð°ÑƒÐ½Ð´Ð°': ÑÑ‚Ð°Ð²ÐºÐ°, 'Ð‘Ð°Ð½Ðº_Ð¾Ð±Ñ‰Ð¸Ð¹': ÑÑ‚Ð°Ð²ÐºÐ°}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)
    
# Ð¾Ð±Ð½ÑƒÐ»ÑÐµÐ¼ Ð±Ð°Ð½Ðº Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ñ€Ð°ÑƒÐ½Ð´Ð° (Ð¿Ñ€Ð¾Ð¸ÑÑ…Ð¾Ð´Ð¸Ñ‚ ÑÐ¾ ÑÐ¼ÐµÐ½Ð¾Ð¹ Ñ€Ð°ÑƒÐ½Ð´Ð°)
    def Ð¾Ð±Ð½ÑƒÐ»ÑÐµÐ¼_Ð±Ð°Ð½Ðº(self): # Ð¿Ñ€ÐµÐ´Ð°Ñ‘Ð¼ ÑÑ‚Ð°Ð²ÐºÑƒ
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {'Ð‘Ð°Ð½Ðº_Ñ€Ð°ÑƒÐ½Ð´Ð°': 0}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

# ÐœÐµÑ‚Ð¾Ð´ Ð´Ð»Ñ Ð¾Ð±Ð½ÑƒÐ»ÐµÐ½Ð¸Ñ Ð¿Ð¾Ð»Ñ 'Ð¡ÐµÐ¹Ñ‡Ð°Ñ_Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»' Ñƒ Ð²ÑÐµÑ… ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð²
    def ÑÐ±Ñ€Ð¾ÑÐ¸Ñ‚ÑŒ_ÑÑ‚Ð°Ð²ÐºÐ¸(self):
        for ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº_id in self.ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²:  # Ð‘ÐµÑ€Ñ‘Ð¼ ÑÐ¿Ð¸ÑÐ¾Ðº ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸ÐºÐ¾Ð² Ð¸Ð· ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²
            Data.Player.update_one({"id": ÑƒÑ‡Ð°ÑÑ‚Ð½Ð¸Ðº_id}, {"$set": {"Ð¡ÐµÐ¹Ñ‡Ð°Ñ_Ð¿Ð¾ÑÑ‚Ð°Ð²Ð¸Ð»": 0}})


    # ------    ÐšÐÐ Ð¢Ð«    ------

# Ð˜Ð·Ð¼ÐµÐ½ÑÐµÐ¼ Ð¿Ð¾Ð»Ðµ ÐšÐ¾Ð»Ð¾Ð´Ð°: ÑƒÐ¼ÐµÐ½ÑŒÑˆÐ°ÐµÐ¼ Ð¿Ñ€Ð¸ Ñ€Ð°Ð·Ð´Ð°Ñ‡Ðµ 
    def Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÐ¼_ÐºÐ¾Ð»Ð¾Ð´Ñƒ(self, ÐºÐ°Ñ€Ñ‚Ñ‹: list): # ÐºÐ°Ñ€Ñ‚Ñ‹: ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ°Ñ€Ñ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð² Ð¿Ð¾Ð»Ðµ 'ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°'.
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {"ÐšÐ¾Ð»Ð¾Ð´Ð°": ÐºÐ°Ñ€Ñ‚Ñ‹}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼/Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°ÐµÐ¼ Ð¿Ð¾Ð»Ðµ 'ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°' 
    def ÑÑ‚Ð¾Ð»_Ñ€Ð°Ð·Ð´Ð°Ñ‚ÑŒ(self, ÐºÐ°Ñ€Ñ‚Ñ‹: list): # ÐºÐ°Ñ€Ñ‚Ñ‹: ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ°Ñ€Ñ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð·Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Ð² Ð¿Ð¾Ð»Ðµ 'ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°'.
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {"ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°": ÐºÐ°Ñ€Ñ‚Ñ‹}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)

# ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð° Ð·Ð°Ð¿Ð¸ÑÐ¸ ÐºÐ°Ñ€Ñ‚ (Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð² ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº Ð½Ð¾Ð²Ñ‹Ñ…, Ð½Ðµ Ð¿ÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ ÑÐ¿Ð¸ÑÐ¾Ðº.)
    def ÑÑ‚Ð¾Ð»_Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ(self, ÐºÐ°Ñ€Ñ‚Ñ‹: list): # ÐºÐ°Ñ€Ñ‚Ñ‹: ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ°Ñ€Ñ‚, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ Ð½ÑƒÐ¶Ð½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð² Ð¿Ð¾Ð»Ðµ 'ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°'.
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$push": {"ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°": {"$each": ÐºÐ°Ñ€Ñ‚Ñ‹}}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)


    # ------    ÐšÐžÐÐ•Ð¦ Ð˜Ð“Ð Ð«    ------

# Ð£Ð´Ð°Ð»ÑÐµÐ¼ Ð²ÑÐµ Ð½ÐµÐ½ÑƒÐ¶Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾ ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ðµ
    def ÑÐ±Ñ€Ð¾Ñ_ÐºÐ¾Ð¼Ð½Ð°Ñ‚Ñ‹(self):
        Data.Room.update_one({"ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ": self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ}, {"$set": {
"ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº_Ñ…Ð¾Ð´Ð¾Ð²": [],  # ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ñ…Ð¾Ð´Ð¾Ð²
"ÐšÐ°Ñ€Ñ‚Ñ‹_ÑÑ‚Ð¾Ð»Ð°": [],
"Ð¢ÐµÐºÑƒÑ‰Ð°Ñ_ÑÑ‚Ð°Ð²ÐºÐ°": 0,
"Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ€Ð°ÑƒÐ½Ð´": "Ð½Ðµ Ð½Ð°Ñ‡Ð°Ñ‚Ð°", # Ð½Ðµ Ð½Ð°Ñ‡Ð°Ñ‚Ð°
"Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹_Ñ…Ð¾Ð´": 0,
"Ð‘Ð°Ð½Ðº_Ð¾Ð±Ñ‰Ð¸Ð¹": 0,
"Ð‘Ð°Ð½Ðº_Ñ€Ð°ÑƒÐ½Ð´Ð°": 0,
"ÐšÐ¾Ð»Ð¾Ð´Ð°": [],  # ÐÐµÑ€Ð¾Ð·Ð´Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹ (Ð±ÑƒÐ´ÐµÑ‚ Ð·Ð°Ð¿Ð¾Ð»Ð½ÐµÐ½)
"Ð’Ñ€ÐµÐ¼Ñ": None # Ð’Ñ€ÐµÐ¼Ñ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ³Ð¾ Ñ…Ð¾Ð´Ð°
}})
        return self.__init__(self.ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ)


async def setup(bot: commands.Bot) -> None:
    await bot.add_cog(Room(bot))